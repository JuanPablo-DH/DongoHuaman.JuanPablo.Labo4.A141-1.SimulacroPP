import{e as M,g as T,h as w,i as R,j as f,k,l as h,n as L,o as A}from"./chunk-VNCDEIXY.js";import{A as n,B as v,D as y,E as c,F as p,G as x,J as C,K as O,O as F,i as b,l as g,n as P,t as S,u as d,v as I,x as E,y as u,z as a}from"./chunk-MXI3KQ3F.js";var m=class o{constructor(){this.id=0,this.nombre="",this.tipo="",this.fechaEstreno=new Date,this.cantidadDePublico=0,this.fotoPelicula=""}static toObjetoAtributoString(t){return{id:t.id.toString(),nombre:t.nombre,tipo:t.tipo,fechaEstreno:t.fechaEstreno.toISOString(),cantidadDePublico:t.cantidadDePublico.toString(),fotoPelicula:t.fotoPelicula}}static parseObjetoPelicula(t){let l=new o;return l.id=Number(t.id),l.nombre=t.nombre,l.tipo=t.tipo,l.fechaEstreno=new Date(t.fechaEstreno),l.cantidadDePublico=Number(t.cantidadDePublico),l.fotoPelicula=t.fotoPelicula,l}static getFormatoFechaEstreno(t){let l=("0"+t.fechaEstreno.getDate()).slice(-2),i=("0"+(t.fechaEstreno.getMonth()+1)).slice(-2),e=t.fechaEstreno.getFullYear();return`${l}/${i}/${e}`}};function $(o,t){if(o&1&&(a(0,"tr")(1,"td"),c(2),n(),a(3,"td"),c(4),n(),a(5,"td"),c(6),n(),a(7,"td"),c(8),n(),a(9,"td"),c(10),n(),a(11,"td"),c(12),n(),a(13,"td"),v(14,"img",3),n()()),o&2){let l=t.$implicit,i=t.index,e=y();d(2),p(i),d(2),p(l.id),d(2),p(l.nombre),d(2),p(l.tipo),d(2),p(e.getFormatoFechaEstreno(l)),d(2),p(l.cantidadDePublico),d(2),u("src",l.fotoPelicula,S)}}var N=(()=>{let t=class t{constructor(){this.lista=[]}getFormatoFechaEstreno(i){return m.getFormatoFechaEstreno(i)}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=P({type:t,selectors:[["app-tabla-pelicula"]],inputs:{lista:"lista"},standalone:!0,features:[x],decls:23,vars:1,consts:[[1,"tabla"],[1,"tabla-scroll"],[4,"ngFor","ngForOf"],[3,"src"]],template:function(e,r){e&1&&(a(0,"div",0)(1,"label"),c(2,"Tabla-Peliculas"),n(),a(3,"div",1)(4,"table")(5,"thead")(6,"tr")(7,"th"),c(8,"INDEX"),n(),a(9,"th"),c(10,"ID"),n(),a(11,"th"),c(12,"NOMBRE"),n(),a(13,"th"),c(14,"TIPO"),n(),a(15,"th"),c(16,"FECHA DE ESTRENO"),n(),a(17,"th"),c(18,"CANTIDAD DE PUBLICO"),n(),a(19,"th"),c(20,"FOTO DE PELICULA"),n()()(),a(21,"tbody"),E(22,$,15,7,"tr",2),n()()()()),e&2&&(d(22),u("ngForOf",r.lista))},dependencies:[C],styles:[".tabla[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:10px;padding:20px;width:100%;background-color:#f9f9f9}.tabla-scroll[_ngcontent-%COMP%]{max-height:300px;overflow-y:scroll}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}thead[_ngcontent-%COMP%]{background-color:#f1f1f1}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #ccc;text-align:left}th[_ngcontent-%COMP%]{background-color:#ececec}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}"]});let o=t;return o})();var B=(()=>{let t=class t{constructor(i){this.firestore=i}traerTodos(i){try{let e=f(this.firestore,i);return T(e)}catch(e){console.log("error DatabaseService.traerTodos()",e)}}traerPorId(i,e){try{let r=f(this.firestore,e),s=h(r,i);return w(s)}catch(r){console.log("error DatabaseService.traerPorId()",r)}}insertar(i,e){try{let r=f(this.firestore,e);R(r,i)}catch(r){console.log("error DatabaseService.insertar()",r)}}insertarConId(i,e,r){try{let s=h(this.firestore,r+`/${i}`);L(s,e)}catch(s){console.log("error DatabaseService.insertarConId()",s)}}modificar(i,e,r){try{let s=f(this.firestore,r),V=h(s,i);A(V,e)}catch(s){console.log("error DatabaseService.modificar()",s)}}eliminar(i,e){try{let r=f(this.firestore,e),s=h(r,i);k(s)}catch(r){console.log("error DatabaseService.eliminar()",r)}}};t.\u0275fac=function(e){return new(e||t)(g(M))},t.\u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var _=(()=>{let t=class t{constructor(i){this.databaseService=i,this.bd="simulacropp_peliculas"}insertarConId(i){let e=m.toObjetoAtributoString(i),r=e.id,s=e;return this.databaseService.insertarConId(r,s,this.bd)}traerTodos(){return this.databaseService.traerTodos(this.bd)}};t.\u0275fac=function(e){return new(e||t)(g(B))},t.\u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();function H(o,t){o&1&&(a(0,"button",3),c(1," Volver a buqueda "),n())}var et=(()=>{let t=class t{constructor(i){this.peliculaService=i,this.mostrarBotonVolver=!0,this.listaPeliculas=[],this.peliculasHardcodeadas=[{id:1,nombre:"La Aventura Espacial",tipo:"Ciencia Ficci\xF3n",fechaEstreno:new Date("2023-01-15"),cantidadDePublico:1500,fotoPelicula:"assets/peliculas/foto1.png"},{id:2,nombre:"El Misterio del Bosque",tipo:"Suspenso",fechaEstreno:new Date("2022-11-05"),cantidadDePublico:1800,fotoPelicula:"assets/peliculas/foto2.png"},{id:3,nombre:"Amor en Tiempos Modernos",tipo:"Rom\xE1ntica",fechaEstreno:new Date("2024-02-14"),cantidadDePublico:2e3,fotoPelicula:"assets/peliculas/foto3.png"},{id:4,nombre:"El Guerrero Legendario",tipo:"Acci\xF3n",fechaEstreno:new Date("2021-07-23"),cantidadDePublico:2200,fotoPelicula:"assets/peliculas/foto4.png"}]}ngOnInit(){this.peliculaService.traerTodos()?.subscribe(i=>{this.listaPeliculas=i,this.listaPeliculas=[];for(let e of i)this.listaPeliculas.push(m.parseObjetoPelicula(e))})}};t.\u0275fac=function(e){return new(e||t)(I(_))},t.\u0275cmp=P({type:t,selectors:[["app-pelicula-listado"]],inputs:{mostrarBotonVolver:"mostrarBotonVolver"},standalone:!0,features:[x],decls:5,vars:2,consts:[[1,"container"],[3,"lista"],["routerLink","/busqueda",4,"ngIf"],["routerLink","/busqueda"]],template:function(e,r){e&1&&(a(0,"div",0)(1,"p"),c(2,"Pelicula-Listado"),n(),v(3,"app-tabla-pelicula",1),E(4,H,2,0,"button",2),n()),e&2&&(d(3),u("lista",r.listaPeliculas),d(),u("ngIf",r.mostrarBotonVolver))},dependencies:[O,F,N],styles:[".container[_ngcontent-%COMP%]{border:2px solid black;border-radius:15px}"]});let o=t;return o})();export{et as a};
